"use strict";angular.module("angular-scroll-animate",[]),angular.module("angular-scroll-animate",[]).directive("whenVisible",["$document","$window",function(a,b){var c=function(a,b,c,d,e,f){var g=a[0].getBoundingClientRect(),h=g.top,i=g.bottom,j=e*g.height,k=i-j>0&&i<b,l=h+j<=b&&h>0;a.data("hidden")&&k||l?(c(a,f),a.data("hidden",!1)):!a.data("hidden")&&(i<0||h>b)&&(d(a,f),a.data("hidden",!0))};return{restrict:"A",scope:{whenVisible:"&",whenNotVisible:"&?",delayPercent:"=?",bindScrollTo:"@?"},controller:["$scope",function(a){if(!a.whenVisible||!angular.isFunction(a.whenVisible()))throw new Error("Directive: angular-scroll-animate 'when-visible' attribute must specify a function.");if(a.whenNotVisible&&!angular.isFunction(a.whenNotVisible()))throw new Error("Directive: angular-scroll-animate 'when-not-visible' attribute must specify a function.");if(a.whenNotVisible||(a.whenNotVisible=function(){return angular.noop}),a.delayPercent){var b=parseFloat(a.delayPercent);if(!angular.isNumber(b)||b<0||b>1)throw new Error("Directive: angular-scroll-animate 'delay-percent' attribute must be a decimal fraction between 0 and 1.")}}],link:function(d,e,f){var g=f.delayPercent||.25,h=a[0].documentElement,i=!1,j=function(){c(e,h.clientHeight,d.whenVisible(),d.whenNotVisible(),g,d),i=!1},k=function(){i||(i=!0,requestAnimationFrame(j))},l="scroll";f.bindScrollTo&&angular.element(a[0].querySelector(f.bindScrollTo)).on(l,k),a.on(l,k),d.$on("$destroy",function(){a.off(l,k)});var m=angular.element(b),n="resize orientationchange";m.on(n,k),d.$on("$destroy",function(){m.off(n,k)}),e.data("hidden",!0),d.$evalAsync(k)}}}]);